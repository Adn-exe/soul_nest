<div class="comments" id="comments-{{ thought.id }}" style="display:flex; flex-direction:column; gap:0.6rem; margin-top:0.75rem;">
    {% for comment in thought.comments %}
        <div class="comment-card" id="comment-{{ comment.id }}" style="
            display:flex; flex-direction:column; 
            padding:0.65rem 1rem; border-radius:14px; 
            background:#f9f9fb; box-shadow:0 2px 8px rgba(0,0,0,0.06);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        " onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.1)';" onmouseout="this.style.transform='none'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.06)';">
            
            <div style="display:flex; justify-content: space-between; align-items:center; margin-bottom:0.25rem;">
                <strong style="font-weight:600; color:#1f2937;">{{ comment.user.username }}</strong>
                <div style="display:flex; align-items:center; gap:0.5rem;">
                    <span style="font-size:0.7rem; color:#9ca3af;">
                        {% if comment.timestamp %}
                            {{ comment.timestamp.strftime('%b %d, %Y â€¢ %H:%M') }}
                        {% else %}
                            Just now
                        {% endif %}
                    </span>
                    {% if comment.user_id == current_user.id %}
                        <button class="delete-comment-btn" data-comment-id="{{ comment.id }}" style="
                            border:none; background:none; color:#ef4444; cursor:pointer; font-size:0.75rem; 
                            transition: color 0.2s ease;
                        " onmouseover="this.style.color='#b91c1c';" onmouseout="this.style.color='#ef4444';">
                            Delete
                        </button>
                    {% endif %}
                </div>
            </div>

            <p style="margin:0; color:#374151; font-size:0.95rem; line-height:1.5;">{{ comment.content }}</p>
        </div>
    {% endfor %}

    <!-- Comment Form -->
    <form class="comment-form" data-thought-id="{{ thought.id }}" style="
        display:flex; gap:0.5rem; margin-top:0.5rem;
    ">
        <input type="text" name="content" placeholder="Write a comment..." required style="
            flex:1; border-radius:12px; border:1px solid #d1d5db; padding:0.55rem 0.85rem; 
            font-size:0.9rem; outline:none; transition:border-color 0.2s ease;
        " onfocus="this.style.borderColor='#4f46e5';" onblur="this.style.borderColor='#d1d5db';">
        <button type="submit" style="
            border:none; background:#4f46e5; color:white; font-weight:600; border-radius:12px;
            padding:0.55rem 1rem; cursor:pointer; transition: background 0.2s ease, transform 0.2s ease;
        " onmouseover="this.style.background='#3730a3'; this.style.transform='translateY(-1px)';" onmouseout="this.style.background='#4f46e5'; this.style.transform='none';">
            Post
        </button>
    </form>
</div>
